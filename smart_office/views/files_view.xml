<odoo>
    <data>
        <record id="view_add_files_doc_form_incoming" model="ir.ui.view">
            <field name="name">Deal With File</field>
            <field name="model">muk_dms.directory</field>
            <field name="mode">primary</field>
            <field name="inherit_id" ref="muk_dms.view_dms_file_form"/>
            <field name="priority">99</field>
            <field name="arch" type="xml">
                <xpath expr="//form" position="replace">
                    <form string="Deal With File">
                        <group col="2">
                            <group string="Note Log">
                                <field name="note_log_ids" context="{'default_type': 'green'}">
                                    <tree string="Note Log">
                                        <field name="name"/>
                                    </tree>
                                    <form string="Note Log">
                                        <field name="name"/>
                                        <field name="type" readonly="1"/>
                                    </form>
                                </field>
                                <field name="correspondence_log_ids" context="{'default_type': 'correspondence'}">
                                    <tree string="Correspondence Log">
                                        <field name="name"/>
                                    </tree>
                                    <form string="Correspondence Log">
                                        <field name="name"/>
                                        <field name="type" readonly="1"/>
                                    </form>
                                </field>
                            </group>
                            <group>
                                <field name="doc_file_preview" widget="pdf_viewer" nolabel="1"/>
                            </group>
<!--                            <group string="Action">-->
<!--                                <field colspan="2" name="file_action" required="1" widget="radio"/>-->
<!--                                <field colspan="2" name="doc_file_status" widget="radio"/>-->
<!--                                <field name="designation_id" colspan="2"/>-->
<!--                                <field name="doc_remarks" colspan="2"/>-->
<!--                            </group>-->
                        </group>
                        <footer>
                            <button name="save_record" string="Save" type="object" class="btn-primary"/>
                            <button string="Cancel" class="btn-default" special="cancel"/>
                        </footer>
                    </form>
                </xpath>
            </field>
        </record>

        <record id="view_add_files_incoming_tree" model="ir.ui.view">
            <field name="name">Incoming Files</field>
            <field name="model">muk_dms.directory</field>
            <field name="mode">primary</field>
            <field name="inherit_id" ref="muk_dms_actions.view_dms_file_domain_tree"/>
            <field name="priority">100</field>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="replace">
                    <tree string="Incoming Files">
                        <field name="name"/>
                        <field name="doc_file_date"/>
                        <field name="doc_type_of_file"/>
                        <field name="doc_file_status"/>
                        <field name="doc_subject_matter"/>
                        <field name="files"/>
                        <button name="deal_with_file" string="Deal with File" type="object"/>
                    </tree>
                </xpath>
            </field>
        </record>

        <record id="action_view_add_files_incoming" model="ir.actions.act_window">
            <field name="name">Incoming Files</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">muk_dms.directory</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'tree_view_ref': 'smart_office.view_add_files_incoming_tree',
                'smart_office': 'smart_office'}
            </field>
        </record>

        <menuitem id="menuitem_smart_office_files"
                  name="Manage Files"/>

        <menuitem id="menuitem_add_files_incoming"
                  parent="smart_office.menuitem_smart_office_files"
                  action="action_view_add_files_incoming"
                  name="Incoming Files"/>
    </data>
</odoo>